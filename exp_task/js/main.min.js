function to_informed_consent(){simple_transition($("#intro1"),$("#informed_consent")),$("#next").attr("onclick","to_statement_evaluation()")}function activate_stretch(){$(".stretch").each(function(){$(this).stretch_text()})}function to_statement_evaluation(){$("body").prepend('<div id="statement_explanation">Explanation</br>You will now first read the definitions of each of the six variables that we want you to judge the four statements on. </br>Please adhere to the definitions you learn on the next pages.</br></br>Alongside each definition, you are asked a control question to test your understanding.</br></br>By carefully reading the definitions, you will be able to answer all questions correctly.</br></br>If you do not choose the correct answer, you will have to start the task again.</br></div>'),simple_transition($("#informed_consent"),$("#statement_explanation")),$("#next").attr("onclick","manage_questions()")}function set_plaus_slider_value(t){var a="#statement"+t+"_evaluation_plausibility_value",e="#plaus_output_"+t;$(e).val($(a).val())}function set_vivid_slider_value(t){var a="#statement"+t+"_evaluation_detailedness_value",e="#vivid_output_"+t;$(e).val($(a).val())}function set_syntactic_accuracy_slider_value(t){var a="#statement"+t+"_evaluation_syntactic_accuracy_value",e="#syntactic_accuracy_output_"+t;$(e).val($(a).val())}function set_readability_slider_value(t){var a="#statement"+t+"_evaluation_readability_value",e="#readability_output_"+t;$(e).val($(a).val())}function set_meaningfulness_slider_value(t){var a="#statement"+t+"_evaluation_meaningfulness_value",e="#meaningfulness_output_"+t;$(e).val($(a).val())}function set_quality_slider_value(t){var a="#statement"+t+"_evaluation_quality_value",e="#quality_output_"+t;$(e).val($(a).val())}function generate_test_question(t){var a="Question "+t+"/6";$("#question"+t+"_wrapper").length||(pagefocus_reset(),$("body").prepend('<div class="question_wrapper" id="question'+t+'_wrapper"><div class="question_header" id="question'+t+'_header">'+a+'</div><div class="question_definition" id="question'+t+'_definition"></div><div class="question_option" id="question'+t+'_option1"  style="top: 45%;"><div class="question_option_text" id="question'+t+'_option1_text"></div><div class="question_option_checkbox" id="question'+t+'_option1_checkbox"><input type="checkbox" name="vehicle" id="checkbox_option1"></div></div><div class="question_option" id="question'+t+'_option2" style="top: 59%;"><div class="question_option_text" id="question'+t+'_option2_text"></div><div class="question_option_checkbox" id="question'+t+'_option2_checkbox"><input type="checkbox" name="vehicle" id="checkbox_option2"></div></div><div class="question_option" id="question'+t+'_option3"  style="top: 73%;"><div class="question_option_text" id="question'+t+'_option3_text"></div><div class="question_option_checkbox" id="question'+t+'_option3_checkbox"><input type="checkbox" name="vehicle" id="checkbox_option3"></div></div><div class="question_option" id="question'+t+'_option4"  style="top: 87%;"><div class="question_option_text" id="question'+t+'_option4_text"></div><div class="question_option_checkbox" id="question'+t+'_option4_checkbox"><input type="checkbox" name="vehicle" id="checkbox_option4"></div></div>'),fill_test_questions(t),activate_stretch())}function add_statement(t,a){var e="Statement "+t+"/4";$("#statement"+t+"_wrapper").length||(pagefocus_reset(),$("body").prepend('<div class="statement_wrapper" id="statement'+t+'_wrapper"><div class="statement_header" id="statement'+t+'_header">'+e+'</div><div class="statement_content" id="statement'+t+'_content">'+a+'</div><div class="statement_evaluation" id="statement'+t+'_evaluation"><div class="statement_evaluation_slider" id="statement'+t+'_evaluation_plausibility"><div class="slider_io"><span id="slider_instr">Plausibility</span> <input type="range" class="slider_io_slider select_menu" id="statement'+t+'_evaluation_plausibility_value" value="4" min="1" max="7" oninput="set_plaus_slider_value('+t+')"><output class="slider_io_output" id="plaus_output_'+t+'">move the slider</output> <div class="slider_io_output_labels stretch">(low) - - - - (high)</div> </div></div><div class="statement_evaluation_slider statement_evaluation_detailedness" id="statement'+t+'_evaluation_detailedness"><div class="slider_io"><span id="slider_instr">Detailedness</span> <input type="range" class="slider_io_slider select_menu" id="statement'+t+'_evaluation_detailedness_value" value="4" min="1" max="7" oninput="set_vivid_slider_value('+t+')"><output class="slider_io_output" id="vivid_output_'+t+'">move the slider</output> <div class="slider_io_output_labels stretch">(low) - - - - (high)</div> </div></div><div class="statement_evaluation_slider statement_evaluation_syntactic_accuracy" id="statement'+t+'_evaluation_syntactic_accuracy"><div class="slider_io"><span id="slider_instr">Syntactic Accuracy</span> <input type="range" class="slider_io_slider select_menu" id="statement'+t+'_evaluation_syntactic_accuracy_value" value="4" min="1" max="7" oninput="set_syntactic_accuracy_slider_value('+t+')"><output class="slider_io_output" id="syntactic_accuracy_output_'+t+'">move the slider</output> <div class="slider_io_output_labels stretch">(low) - - - - (high)</div> </div></div><div class="statement_evaluation_slider statement_evaluation_readability" id="statement'+t+'_evaluation_readability"><div class="slider_io"><span id="slider_instr">Readability</span> <input type="range" class="slider_io_slider select_menu" id="statement'+t+'_evaluation_readability_value" value="4" min="1" max="7" oninput="set_readability_slider_value('+t+')"><output class="slider_io_output" id="readability_output_'+t+'">move the slider</output> <div class="slider_io_output_labels stretch">(low) - - - - (high)</div> </div></div><div class="statement_evaluation_slider statement_evaluation_meaningfulness" id="statement'+t+'_evaluation_meaningfulness"><div class="slider_io"><span id="slider_instr">Meaningfulness</span> <input type="range" class="slider_io_slider select_menu" id="statement'+t+'_evaluation_meaningfulness_value" value="4" min="1" max="7" oninput="set_meaningfulness_slider_value('+t+')"><output class="slider_io_output" id="meaningfulness_output_'+t+'">move the slider</output> <div class="slider_io_output_labels stretch">(low) - - - - (high)</div> </div></div><div class="statement_evaluation_slider statement_evaluation_quality" id="statement'+t+'_evaluation_quality"><div class="slider_io"><span id="slider_instr">Overall Text Quality</span> <input type="range" class="slider_io_slider select_menu" id="statement'+t+'_evaluation_quality_value" value="4" min="1" max="7" oninput="set_quality_slider_value('+t+')"><output class="slider_io_output" id="quality_output_'+t+'">move the slider</output> <div class="slider_io_output_labels stretch">(low) - - - - (high)</div> </div></div></div></div></div>'),activate_stretch(),fill_test_questions(t))}function get_test_data(t){var a=questions[t-1],e=[a.optiona,a.optionb,a.optionc,a.optiond];return a.optiona=e[Math.floor(Math.random()*e.length)],e.splice(e.indexOf(a.optiona),1),a.optionb=e[Math.floor(Math.random()*e.length)],e.splice(e.indexOf(a.optionb),1),a.optionc=e[Math.floor(Math.random()*e.length)],e.splice(e.indexOf(a.optionc),1),a.optiond=e[0],a}function fill_test_questions(t){var a=get_test_data(t);$("#question"+t+"_definition").html(a.question),$("#question"+t+"_option1_text").text(a.optiona),$("#question"+t+"_option2_text").text(a.optionb),$("#question"+t+"_option3_text").text(a.optionc),$("#question"+t+"_option4_text").text(a.optiond)}function get_result(t){return get_test_data(t).answer}function manage_questions(){var t=0,a=get_result(count);$("#next").prop("onclick",null).off("click"),generate_test_question(count),1==count?simple_transition($("#statement_explanation"),$("#question1_wrapper")):simple_transition($("#question"+(count-1)+"_wrapper"),$("#question"+count+"_wrapper")),$(".question_option_checkbox").click(function(a){for(var e=1;e<=4;e++)if(document.getElementById("checkbox_option"+e).checked){t=e;break}}),$("#next").click(function(){if($("#next").unbind("click"),several_selected())alert("You cannot choose more than one answer!"),document.getElementById("checkbox_option"+t).checked=!1,manage_questions();else if(0===t)alert("You have to choose one answer! You have to repeat the task."),manage_questions();else{var e=$("#question"+count+"_option"+t+"_text").text();e==a?count<limit?(count++,manage_questions()):show_last_question():(alert("Wrong answer! You have to repeat the task."),repetition_count++,reset_task())}})}function show_last_question(){$("body").prepend('<div class="special_question" id="question'+(limit+1)+'_wrapper">'+get_test_data(limit+1).question+"</br></br>You can now start with the main task.</div>"),simple_transition($("#question"+limit+"_wrapper"),$("#question"+(limit+1)+"_wrapper")),$("#next").attr("onclick","to_main_statements()")}function several_selected(){for(var t=0,a=1;a<=4;a++)document.getElementById("checkbox_option"+a).checked&&t++;return t>1}function reset_task(){count=1,$("div").remove(".question_wrapper"),init_data(),simple_transition($("#question"+(count-1)+"_wrapper"),$("#intro")),$("#next").attr("onclick","to_informed_consent()")}function to_main_statements(){get_unid(repetition_count),to_statement1()}function to_statement1(){get_content(0,function(t){data_statement1=t,add_statement(1,data_statement1.content)}),simple_transition($(".special_question"),$("#statement1_wrapper")),$("#next").attr("onclick","to_statement2()")}function to_statement2(){check_slider($(".slider_io_output"))&&(data_array.push({content:data_statement1,statementid:data_statement1.id,evaluation:{plausibility:$("#statement1_evaluation_plausibility_value").val(),detailedness:$("#statement1_evaluation_detailedness_value").val(),readability:$("#statement1_evaluation_readability_value").val(),quality:$("#statement1_evaluation_quality_value").val(),meaningfulness:$("#statement1_evaluation_meaningfulness_value").val(),syntactic_accuracy:$("#statement1_evaluation_syntactic_accuracy_value").val()}}),pagefocus_statement1=pagefocus_get_data(),get_content(1,function(t){data_statement2=t,add_statement(2,data_statement2.content)}),simple_transition($("#statement1_wrapper"),$("#statement2_wrapper")),$("#next").attr("onclick","to_statement3()"))}function to_statement3(){check_slider($(".slider_io_output"))&&(data_array.push({content:data_statement2,statementid:data_statement2.id,evaluation:{plausibility:$("#statement2_evaluation_plausibility_value").val(),detailedness:$("#statement2_evaluation_detailedness_value").val(),readability:$("#statement2_evaluation_readability_value").val(),quality:$("#statement2_evaluation_quality_value").val(),meaningfulness:$("#statement2_evaluation_meaningfulness_value").val(),syntactic_accuracy:$("#statement2_evaluation_syntactic_accuracy_value").val()}}),pagefocus_statement2=pagefocus_get_data(),get_content(2,function(t){data_statement3=t,add_statement(3,data_statement3.content)}),simple_transition($("#statement2_wrapper"),$("#statement3_wrapper")),$("#next").attr("onclick","to_statement4()"))}function to_statement4(){check_slider($(".slider_io_output"))&&(data_array.push({content:data_statement3,statementid:data_statement3.id,evaluation:{plausibility:$("#statement3_evaluation_plausibility_value").val(),detailedness:$("#statement3_evaluation_detailedness_value").val(),readability:$("#statement3_evaluation_readability_value").val(),quality:$("#statement3_evaluation_quality_value").val(),meaningfulness:$("#statement3_evaluation_meaningfulness_value").val(),syntactic_accuracy:$("#statement3_evaluation_syntactic_accuracy_value").val()}}),pagefocus_statement3=pagefocus_get_data(),get_content(3,function(t){data_statement4=t,add_statement(4,data_statement4.content)}),simple_transition($("#statement3_wrapper"),$("#statement4_wrapper")),$("#next").attr("onclick","to_transition()"))}function to_transition(){check_slider($(".slider_io_output"))&&(data_array.push({content:data_statement4,statementid:data_statement4.id,evaluation:{plausibility:$("#statement4_evaluation_plausibility_value").val(),detailedness:$("#statement4_evaluation_detailedness_value").val(),readability:$("#statement4_evaluation_readability_value").val(),quality:$("#statement4_evaluation_quality_value").val(),meaningfulness:$("#statement4_evaluation_meaningfulness_value").val(),syntactic_accuracy:$("#statement4_evaluation_syntactic_accuracy_value").val()}}),pagefocus_statement4=pagefocus_get_data(),simple_transition($("#statement4_wrapper"),$("#transition1")),$("#next").attr("onclick","to_demographics1()"))}function to_demographics1(){simple_transition($("#transition1"),$("#demographics1")),$("#next").attr("onclick","to_demographics2()"),define_keys($("#age_sel"),"number",2)}function to_demographics2(){check_fields($(".select_menu"))===!0&&(has_second_language()===!1&&$("#lang2").css("display","none"),simple_transition($("#demographics1"),$("#demographics2")),$("#next").attr("onclick","to_outro()"))}function to_outro(){check_fields($(".select_menu"))===!0&&(simple_transition($("#demographics2"),$("#outro")),$("#partcode").text(unid),$("#next").text("SEND"),$("#next").attr("onclick","send_to_server()"))}function get_data(){data.ip=clientip,data.browsername=$.browser.name,data.browserversion=$.browser.version,data.ts_time=moment().format("LTS"),data.ts_date=moment().format("l"),data.unid=unid,data.unidin=$("#unidin").val(),data.crowdf=$("#crowdf").val(),data.gender=$("#gender_sel").val(),data.age=$("#age_sel").val(),data.education=$("#education_sel").val(),data.origin=$("#origin_sel").val(),data.bilingual_sel=$("#bilingual_sel").val(),data.lang1_sel=$("#lang1_sel").val(),data.lang2_sel=$("#lang2_sel").val(),data.statement1_category=data_array[0].content.category,data.statement1_content=data_array[0].content.content,data.statement1_id=data_array[0].content.id,data.statement1_type=data_array[0].content.type,data.statement1_eval_plausibility=data_array[0].evaluation.plausibility,data.statement1_eval_detailedness=data_array[0].evaluation.detailedness,data.statement1_eval_quality=data_array[0].evaluation.quality,data.statement1_eval_syntactic_accuracy=data_array[0].evaluation.syntactic_accuracy,data.statement1_eval_meaningfulness=data_array[0].evaluation.meaningfulness,data.statement1_eval_readability=data_array[0].evaluation.readability,data.statement1_eval_defoucus=pagefocus_statement1.defocus,data.statement1_eval_refoucus=pagefocus_statement1.refocus,data.statement1_eval_defocusduration=pagefocus_statement1.durationsum,data.statement2_category=data_array[1].content.category,data.statement2_content=data_array[1].content.content,data.statement2_id=data_array[1].content.id,data.statement2_type=data_array[1].content.type,data.statement2_eval_plausibility=data_array[1].evaluation.plausibility,data.statement2_eval_detailedness=data_array[1].evaluation.detailedness,data.statement2_eval_quality=data_array[1].evaluation.quality,data.statement2_eval_syntactic_accuracy=data_array[1].evaluation.syntactic_accuracy,data.statement2_eval_meaningfulness=data_array[1].evaluation.meaningfulness,data.statement2_eval_readability=data_array[1].evaluation.readability,data.statement2_eval_defoucus=pagefocus_statement2.defocus,data.statement2_eval_refoucus=pagefocus_statement2.refocus,data.statement2_eval_defocusduration=pagefocus_statement2.durationsum,data.statement3_category=data_array[2].content.category,data.statement3_content=data_array[2].content.content,data.statement3_id=data_array[2].content.id,data.statement3_type=data_array[2].content.type,data.statement3_eval_plausibility=data_array[2].evaluation.plausibility,data.statement3_eval_detailedness=data_array[2].evaluation.detailedness,data.statement3_eval_quality=data_array[2].evaluation.quality,data.statement3_eval_syntactic_accuracy=data_array[2].evaluation.syntactic_accuracy,data.statement3_eval_meaningfulness=data_array[2].evaluation.meaningfulness,data.statement3_eval_readability=data_array[2].evaluation.readability,data.statement3_eval_defoucus=pagefocus_statement3.defocus,data.statement3_eval_refoucus=pagefocus_statement3.refocus,data.statement3_eval_defocusduration=pagefocus_statement3.durationsum,data.statement4_category=data_array[3].content.category,data.statement4_content=data_array[3].content.content,data.statement4_id=data_array[3].content.id,data.statement4_type=data_array[3].content.type,data.statement4_eval_plausibility=data_array[3].evaluation.plausibility,data.statement4_eval_detailedness=data_array[3].evaluation.detailedness,data.statement4_eval_quality=data_array[3].evaluation.quality,data.statement4_eval_syntactic_accuracy=data_array[3].evaluation.syntactic_accuracy,data.statement4_eval_meaningfulness=data_array[3].evaluation.meaningfulness,data.statement4_eval_readability=data_array[3].evaluation.readability,data.statement4_eval_defoucus=pagefocus_statement4.defocus,data.statement4_eval_refoucus=pagefocus_statement4.refocus,data.statement4_eval_defocusduration=pagefocus_statement4.durationsum,console.log(data)}var data_array=[],data_statement1,data_statement2,data_statement3,data_statement4,unid,validation_score=0,repetition_count=0;$(document).ready(function(){init_data(),getIP(),$("#intro1").show(),$("#next").attr("onclick","to_informed_consent()")});var count=1,limit=5;